{"log.level":"info","@timestamp":"2025-06-02T14:56:29.512Z","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/cmd/instance.(*Beat).configure","file.name":"instance/beat.go","file.line":1082},"message":"Home path: [/home/thetherington/routebeat_workspace/routebeat] Config path: [/home/thetherington/routebeat_workspace/routebeat] Data path: [/home/thetherington/routebeat_workspace/routebeat/data] Logs path: [/home/thetherington/routebeat_workspace/routebeat/logs]","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.512Z","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/cmd/instance.(*Beat).configure","file.name":"instance/beat.go","file.line":1090},"message":"Beat ID: 64bfc73e-a351-488d-8c68-5f635812478d","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.540Z","log.logger":"seccomp","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/common/seccomp.loadFilter","file.name":"seccomp/seccomp.go","file.line":125},"message":"Syscall filter successfully installed","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.540Z","log.logger":"beat","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/cmd/instance.(*Beat).createBeater","file.name":"instance/beat.go","file.line":573},"message":"Setup Beat: routebeat; Version: 8.18.0","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.540Z","log.logger":"beat","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/cmd/instance.(*Beat).logSystemInfo","file.name":"instance/beat.go","file.line":1645},"message":"Beat info","service.name":"routebeat","system_info":{"beat":{"path":{"config":"/home/thetherington/routebeat_workspace/routebeat","data":"/home/thetherington/routebeat_workspace/routebeat/data","home":"/home/thetherington/routebeat_workspace/routebeat","logs":"/home/thetherington/routebeat_workspace/routebeat/logs"},"type":"routebeat","uuid":"64bfc73e-a351-488d-8c68-5f635812478d"},"ecs.version":"1.6.0"}}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.540Z","log.logger":"beat","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/cmd/instance.(*Beat).logSystemInfo","file.name":"instance/beat.go","file.line":1654},"message":"Build info","service.name":"routebeat","system_info":{"build":{"commit":"unknown","libbeat":"8.18.0","time":"0001-01-01T00:00:00.000Z","version":"8.18.0"},"ecs.version":"1.6.0"}}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.540Z","log.logger":"beat","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/cmd/instance.(*Beat).logSystemInfo","file.name":"instance/beat.go","file.line":1657},"message":"Go runtime info","service.name":"routebeat","system_info":{"go":{"os":"linux","arch":"amd64","max_procs":16,"version":"go1.23.9"},"ecs.version":"1.6.0"}}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.541Z","log.logger":"beat","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/cmd/instance.(*Beat).logSystemInfo","file.name":"instance/beat.go","file.line":1663},"message":"Host info","service.name":"routebeat","system_info":{"host":{"architecture":"x86_64","native_architecture":"x86_64","boot_time":"2025-06-02T13:29:35Z","containerized":false,"name":"insite-24-lab","ip":["127.0.0.1","10.9.0.10","172.17.0.1","::1","fe80::20d:3aff:fe9e:97cd","fe80::20d:3aff:fe9e:97cd","fe80::80bd:9ff:fe97:8961"],"kernel_version":"6.11.0-1015-azure","mac":["00:0d:3a:9e:97:cd","00:0d:3a:9e:97:cd","82:bd:09:97:89:61"],"os":{"type":"linux","family":"debian","platform":"ubuntu","name":"Ubuntu","version":"24.04.2 LTS (Noble Numbat)","major":24,"minor":4,"patch":2,"codename":"noble"},"timezone":"UTC","timezone_offset_sec":0,"id":"0460907b000145e08e1e4d27ab348aa8"},"ecs.version":"1.6.0"}}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.542Z","log.logger":"beat","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/cmd/instance.(*Beat).logSystemInfo","file.name":"instance/beat.go","file.line":1692},"message":"Process info","service.name":"routebeat","system_info":{"process":{"capabilities":{"inheritable":null,"permitted":null,"effective":null,"bounding":["chown","dac_override","dac_read_search","fowner","fsetid","kill","setgid","setuid","setpcap","linux_immutable","net_bind_service","net_broadcast","net_admin","net_raw","ipc_lock","ipc_owner","sys_module","sys_rawio","sys_chroot","sys_ptrace","sys_pacct","sys_admin","sys_boot","sys_nice","sys_resource","sys_time","sys_tty_config","mknod","lease","audit_write","audit_control","setfcap","mac_override","mac_admin","syslog","wake_alarm","block_suspend","audit_read","perfmon","bpf","checkpoint_restore"],"ambient":null},"cwd":"/home/thetherington/routebeat_workspace/routebeat","exe":"/home/thetherington/routebeat_workspace/routebeat/__debug_bin2818906384","name":"__debug_bin2818","pid":112083,"ppid":102416,"seccomp":{"mode":"filter","no_new_privs":true},"start_time":"2025-06-02T14:56:27.240Z"},"ecs.version":"1.6.0"}}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.549Z","log.logger":"elasticsearch","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/outputs/elasticsearch.makeES","file.name":"elasticsearch/elasticsearch.go","file.line":57},"message":"Applying performance preset 'balanced': {\n  \"bulk_max_size\": 1600,\n  \"compression_level\": 1,\n  \"idle_connection_timeout\": \"3s\",\n  \"queue\": {\n    \"mem\": {\n      \"events\": 3200,\n      \"flush\": {\n        \"min_events\": 1600,\n        \"timeout\": \"10s\"\n      }\n    }\n  },\n  \"worker\": 1\n}","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.549Z","log.logger":"esclientleg","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/esleg/eslegclient.NewConnection","file.name":"eslegclient/connection.go","file.line":132},"message":"elasticsearch url: http://localhost:9200","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.550Z","log.logger":"publisher","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/publisher/pipeline.LoadWithSettings","file.name":"pipeline/module.go","file.line":105},"message":"Beat name: insite-24-lab","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.550Z","log.logger":"monitoring","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/monitoring/report/log.(*reporter).snapshotLoop","file.name":"log/log.go","file.line":150},"message":"Starting metrics logging every 30s","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.550Z","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/cmd/instance.(*Beat).launch","file.name":"instance/beat.go","file.line":773},"message":"routebeat start running.","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:29.550Z","log.origin":{"function":"github.com/thetherington/routebeat/beater.(*routebeat).Run","file.name":"beater/routebeat.go","file.line":38},"message":"routebeat is running! Hit CTRL-C to stop it.","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"warn","@timestamp":"2025-06-02T14:56:29.562Z","log.logger":"add_cloud_metadata","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/processors/add_cloud_metadata.(*azureMetadataFetcher).fetchMetadata","file.name":"add_cloud_metadata/provider_azure_vm.go","file.line":142},"message":"Failed to get additional AKS Cluster meta: failed to get AKS cluster name and ID: failed to advance page: DefaultAzureCredential: failed to acquire a token.\nAttempted credentials:\n\tEnvironmentCredential: missing environment variable AZURE_TENANT_ID\n\tWorkloadIdentityCredential: no client ID specified. Check pod configuration or set ClientID in the options\n\tManagedIdentityCredential: failed to authenticate a system assigned identity. The endpoint responded with {\"error\":\"invalid_request\",\"error_description\":\"Identity not found\"}\n\tAzureCLICredential: fork/exec /bin/sh: operation not permitted\n\tAzureDeveloperCLICredential: fork/exec /bin/sh: operation not permitted","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:56:38.398Z","log.logger":"add_cloud_metadata","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/processors/add_cloud_metadata.(*addCloudMetadata).init.func1","file.name":"add_cloud_metadata/add_cloud_metadata.go","file.line":104},"message":"add_cloud_metadata: hosting provider type detected as azure, metadata={\"cloud\":{\"account\":{\"id\":\"c02a16cc-c49a-49c4-ab3c-ced2938ef462\"},\"instance\":{\"id\":\"0c9eb58f-c850-433a-9736-3c0a765d699b\",\"name\":\"insite-24-lab\"},\"machine\":{\"type\":\"Standard_D16s_v3\"},\"provider\":\"azure\",\"region\":\"eastus\",\"service\":{\"name\":\"Virtual Machines\"}}}","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:59:44.981Z","log.origin":{"function":"github.com/thetherington/routebeat/beater.(*routebeat).Run","file.name":"beater/routebeat.go","file.line":64},"message":"Event sent","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:59:55.633Z","log.origin":{"function":"github.com/thetherington/routebeat/beater.(*routebeat).Run","file.name":"beater/routebeat.go","file.line":64},"message":"Event sent","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:59:55.633Z","log.logger":"publisher_pipeline_output","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/publisher/pipeline.(*netClientWorker).run","file.name":"pipeline/client_worker.go","file.line":138},"message":"Connecting to backoff(elasticsearch(http://localhost:9200))","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"error","@timestamp":"2025-06-02T14:59:55.634Z","log.logger":"esclientleg","log.origin":{"function":"github.com/elastic/elastic-agent-libs/transport.LoggingDialer.func1","file.name":"transport/logging.go","file.line":39},"message":"Error dialing dial tcp 127.0.0.1:9200: connect: connection refused","service.name":"routebeat","network.transport":"tcp","server.address":"localhost:9200","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:59:55.634Z","log.logger":"monitoring","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/monitoring/report/log.(*reporter).logSnapshot","file.name":"log/log.go","file.line":192},"message":"Non-zero metrics in the last 30s","service.name":"routebeat","monitoring":{"metrics":{"beat":{"cgroup":{"cpu":{"id":"session-1.scope"},"memory":{"id":"session-1.scope","mem":{"usage":{"bytes":11739721728}}}},"cpu":{"system":{"ticks":40,"time":{"ms":40}},"total":{"ticks":140,"time":{"ms":140},"value":140},"user":{"ticks":100,"time":{"ms":100}}},"handles":{"limit":{"hard":1048576,"soft":1048576},"open":23},"info":{"ephemeral_id":"74b4d156-ef72-48dd-a0fd-ea362f45dce3","name":"routebeat","uptime":{"ms":195493},"version":"8.18.0"},"memstats":{"gc_next":13189976,"memory_alloc":6849264,"memory_sys":23942408,"memory_total":12997848,"rss":78852096},"runtime":{"goroutines":17}},"libbeat":{"config":{"module":{"running":0}},"output":{"events":{"active":0},"type":"elasticsearch","write":{"latency":{"histogram":{"count":0,"max":0,"mean":0,"median":0,"min":0,"p75":0,"p95":0,"p99":0,"p999":0,"stddev":0}}}},"pipeline":{"clients":1,"events":{"active":2,"published":2,"total":2},"queue":{"added":{"bytes":2000,"events":2},"consumed":{"bytes":2000,"events":2},"filled":{"bytes":2000,"events":2,"pct":0.000625},"max_bytes":0,"max_events":3200}}},"system":{"cpu":{"cores":16},"load":{"1":1.03,"15":1.81,"5":1.48,"norm":{"1":0.0644,"15":0.1131,"5":0.0925}}}},"ecs.version":"1.6.0"}}
{"log.level":"error","@timestamp":"2025-06-02T14:59:57.236Z","log.logger":"publisher_pipeline_output","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/publisher/pipeline.(*netClientWorker).run","file.name":"pipeline/client_worker.go","file.line":149},"message":"Failed to connect to backoff(elasticsearch(http://localhost:9200)): Get \"http://localhost:9200\": dial tcp 127.0.0.1:9200: connect: connection refused","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T14:59:57.815Z","log.logger":"publisher_pipeline_output","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/publisher/pipeline.(*netClientWorker).run","file.name":"pipeline/client_worker.go","file.line":140},"message":"Attempting to reconnect to backoff(elasticsearch(http://localhost:9200)) with 1 reconnect attempt(s)","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"error","@timestamp":"2025-06-02T14:59:57.816Z","log.logger":"esclientleg","log.origin":{"function":"github.com/elastic/elastic-agent-libs/transport.LoggingDialer.func1","file.name":"transport/logging.go","file.line":39},"message":"Error dialing dial tcp 127.0.0.1:9200: connect: connection refused","service.name":"routebeat","network.transport":"tcp","server.address":"localhost:9200","ecs.version":"1.6.0"}
{"log.level":"error","@timestamp":"2025-06-02T15:00:00.612Z","log.logger":"publisher_pipeline_output","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/publisher/pipeline.(*netClientWorker).run","file.name":"pipeline/client_worker.go","file.line":149},"message":"Failed to connect to backoff(elasticsearch(http://localhost:9200)): Get \"http://localhost:9200\": dial tcp 127.0.0.1:9200: connect: connection refused","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"info","@timestamp":"2025-06-02T15:00:00.612Z","log.logger":"publisher_pipeline_output","log.origin":{"function":"github.com/elastic/beats/v7/libbeat/publisher/pipeline.(*netClientWorker).run","file.name":"pipeline/client_worker.go","file.line":140},"message":"Attempting to reconnect to backoff(elasticsearch(http://localhost:9200)) with 2 reconnect attempt(s)","service.name":"routebeat","ecs.version":"1.6.0"}
{"log.level":"error","@timestamp":"2025-06-02T15:00:02.348Z","log.logger":"esclientleg","log.origin":{"function":"github.com/elastic/elastic-agent-libs/transport.LoggingDialer.func1","file.name":"transport/logging.go","file.line":39},"message":"Error dialing dial tcp 127.0.0.1:9200: connect: connection refused","service.name":"routebeat","network.transport":"tcp","server.address":"localhost:9200","ecs.version":"1.6.0"}
